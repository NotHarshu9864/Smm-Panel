<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Harsh SMM â€¢ Login</title>

<!-- Tailwind CDN -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Tailwind config -->
<script>
tailwind.config = {
  theme: {
    extend: {
      colors: {
        primary: '#2563eb'
      }
    }
  }
}
</script>
</head>

<body class="min-h-screen bg-slate-100 flex items-center justify-center">

<div class="w-full max-w-md px-4">
  <div class="bg-white border border-slate-200 rounded-xl shadow-sm p-6 relative overflow-hidden">

    <!-- HEADER -->
    <h1 class="text-xl font-semibold text-slate-900">Harsh SMM</h1>
    <p class="text-sm text-slate-500 mt-1" id="formTitle">
      Login to your dashboard
    </p>

    <!-- LOGIN FORM -->
    <form id="loginForm" class="mt-6 space-y-4 transition-all duration-300">
      <div>
        <label class="text-sm font-medium text-slate-700">Email</label>
        <input type="email" id="loginEmail" required
          class="mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm
                 focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary">
      </div>

      <div>
        <label class="text-sm font-medium text-slate-700">Password</label>
        <input type="password" id="loginPassword" required
          class="mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm
                 focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary">
      </div>

      <button
        class="w-full h-10 rounded-lg bg-primary text-white text-sm font-medium
               hover:bg-blue-700 transition">
        Login
      </button>
    </form>

    <!-- REGISTER FORM -->
    <form id="registerForm"
      class="mt-6 space-y-4 absolute left-0 right-0 opacity-0 pointer-events-none
             translate-x-6 transition-all duration-300">
      <div>
        <label class="text-sm font-medium text-slate-700">Email</label>
        <input type="email" id="registerEmail" required
          class="mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm
                 focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary">
      </div>

      <div>
        <label class="text-sm font-medium text-slate-700">Password</label>
        <input type="password" id="registerPassword" required
          class="mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm
                 focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary">
      </div>

      <button
        class="w-full h-10 rounded-lg bg-primary text-white text-sm font-medium
               hover:bg-blue-700 transition">
        Create Account
      </button>
    </form>

    <!-- MESSAGE -->
    <p id="authMsg" class="mt-4 text-sm text-red-600"></p>

    <!-- TOGGLE -->
    <div class="mt-6 text-center text-sm text-slate-600">
      <span id="toggleText">Donâ€™t have an account?</span>
      <button id="toggleBtn" class="text-primary font-medium ml-1">
        Register
      </button>
    </div>
  </div>

  <p class="text-center text-xs text-slate-400 mt-4">
    Â© Harsh SMM
  </p>
</div>

<!-- FIREBASE + JS -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import {
  getAuth,
  signInWithEmailAndPassword,
  createUserWithEmailAndPassword,
  onAuthStateChanged
} from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

/* ðŸ”¥ REPLACE WITH YOUR CONFIG */
const firebaseConfig = {
    apiKey: "AIzaSyBvsZp41z8CvSWmiZoCvtWUU2rYmUoG7Uc",
    authDomain: "harshsmm.firebaseapp.com",
    projectId: "harshsmm",
    storageBucket: "harshsmm.firebasestorage.app",
    messagingSenderId: "776315099973",
    appId: "1:776315099973:web:760da4aad2eb99a716fc2c"
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();

/* AUTO LOGIN */
onAuthStateChanged(auth, user => {
  if (user) {
    localStorage.setItem("userEmail", user.email);
    location.href = "new-order.html";
  }
});

/* ELEMENTS */
const loginForm = document.getElementById("loginForm");
const registerForm = document.getElementById("registerForm");
const toggleBtn = document.getElementById("toggleBtn");
const toggleText = document.getElementById("toggleText");
const formTitle = document.getElementById("formTitle");
const authMsg = document.getElementById("authMsg");

let isLogin = true;

/* TOGGLE ANIMATION */
toggleBtn.onclick = () => {
  authMsg.textContent = "";

  if (isLogin) {
    loginForm.classList.add("opacity-0", "pointer-events-none", "-translate-x-6");
    registerForm.classList.remove("opacity-0", "pointer-events-none", "translate-x-6");
    formTitle.textContent = "Create a new account";
    toggleText.textContent = "Already have an account?";
    toggleBtn.textContent = "Login";
  } else {
    registerForm.classList.add("opacity-0", "pointer-events-none", "translate-x-6");
    loginForm.classList.remove("opacity-0", "pointer-events-none", "-translate-x-6");
    formTitle.textContent = "Login to your dashboard";
    toggleText.textContent = "Donâ€™t have an account?";
    toggleBtn.textContent = "Register";
  }

  isLogin = !isLogin;
};

/* LOGIN */
loginForm.onsubmit = e => {
  e.preventDefault();
  authMsg.textContent = "Logging in...";

  signInWithEmailAndPassword(
    auth,
    loginEmail.value,
    loginPassword.value
  )
  .then(res => {
    localStorage.setItem("userEmail", res.user.email);
    location.href = "new-order.html";
  })
  .catch(err => authMsg.textContent = err.message);
};

/* REGISTER */
registerForm.onsubmit = e => {
  e.preventDefault();
  authMsg.textContent = "Creating account...";

  createUserWithEmailAndPassword(
    auth,
    registerEmail.value,
    registerPassword.value
  )
  .then(res => {
    localStorage.setItem("userEmail", res.user.email);
    location.href = "new-order.html";
  })
  .catch(err => authMsg.textContent = err.message);
};
</script>

</body>
</html>